import{b as ue,c as ce,_ as me,a as de}from"./BasePage-aJlR_RJI.js";import{u as pe,a as ge,b as fe,O as ve}from"./index-DruWBKkm.js";import{r as B,g as N,a2 as he,L as ie,J as se,K as ye,O as U,af as q,l as G,p as H,q as be,s as K,h as $,o as D,t as V,u as b,w as S,v as O,C as Z,c as w,b as J,z as C,N as k,x as Se,y as De,W as _e,k as Fe,a as _,F as Y,E as Q,P as Ne,$ as xe}from"./index-CdEV5Lsj.js";import{_ as Pe}from"./UInput.vue_vue_type_script_setup_true_lang-BjaSJgmr.js";import"./ULabel.vue_vue_type_script_setup_true_lang-DmdMPZfT.js";const X={moneyInput:"{UInput}",defaults:{symbol:"",size:"md",minFractionDigits:0,maxFractionDigits:2,decimalSeparator:",",thousandsSeparator:" ",labelAlign:"topInside",prefix:"",valueType:"number",positiveOnly:!1,readonly:!1,disabled:!1}},Ve="UInputMoney",A=".";function z(p,s){const{thousandsSeparator:i,decimalSeparator:t,prefix:o}=s;return p=p.endsWith(t)?p.replace(t,""):p,p.replaceAll(i,"").replace(t,A).replace(o,"")}function ee(p,s){const{thousandsSeparator:i,decimalSeparator:t,prefix:o,positiveOnly:m}=s,e=Math.abs(s.minFractionDigits),v=Math.abs(s.maxFractionDigits),u={minimumFractionDigits:e<=v?e:v,maximumFractionDigits:v,roundingMode:"trunc"};m&&(u.signDisplay="never");const n=new Intl.NumberFormat("en-US",u).formatToParts(p).map(a=>(a.type==="group"&&(a.value=i),a.type==="decimal"&&(a.value=t),a));return n.unshift({value:o,type:"minusSign"}),n.map(a=>a.value).join("")}const Me=["1","2","3","4","5","6","7","8","9","0"],W=",",I="-";function we(p="",s){let i=null;const t=B(""),o=B(""),m=B(""),e=N(()=>he(s));ie(()=>e,()=>{v(),f(t.value)},{deep:!0}),se(()=>{v(),i=document.getElementById(p),i&&(i.addEventListener("input",u),i.addEventListener("keydown",x))}),ye(()=>{i&&i.removeEventListener("input",u)});function v(){const n=[];e.value.decimalSeparator.length>1&&n.push("[VUELESS/UInputMoney]: DecimalSeparator should not contain more than one symbol."),e.value.thousandsSeparator.length>1&&n.push("[VUELESS/UInputMoney]: ThousandsSeparator should not contain more than one symbol."),n.forEach(a=>console.warn(a))}function f(n){const a=ee(n,e.value);t.value=a,o.value=z(a,e.value),m.value=t.value}function x(n){if(!n.target||!i)return;const a=i.selectionStart||0,g=i.selectionEnd||0,h=g!==a;if(n.key==="Backspace"&&!h){const F=i.value[a-1];[e.value.thousandsSeparator,e.value.prefix,e.value.decimalSeparator].includes(F)&&!i.value.endsWith(e.value.decimalSeparator)&&(n.preventDefault(),i.setSelectionRange(a-1,g-1));return}const d=t.value.endsWith(e.value.decimalSeparator);if((n.key===W||n.key===A)&&d){n.preventDefault();return}}async function u(n){if(!n.target||!i)return;await U();const a=i.selectionStart||0,g=i.selectionEnd||0;let d=n.target.value||"";const F=g-1,y=n.data||"";if(d===I){t.value=I,o.value="";return}if(!d||d.startsWith(`${e.value.decimalSeparator}0`)){t.value=e.value.prefix,o.value="";return}(y===A||y===W)&&(d=[...m.value.slice(0,F),e.value.decimalSeparator,...m.value.slice(F)].join("")),d.split(e.value.decimalSeparator).length>2&&(d=d.split("").with(d.lastIndexOf(e.value.decimalSeparator),"").join(""));const l=d.indexOf(e.value.decimalSeparator),r=z(d,e.value);if((d.endsWith(e.value.decimalSeparator)||d.endsWith(`${e.value.decimalSeparator}0`))&&a>l&&!e.value.minFractionDigits){t.value=d,o.value=r;return}const R=y&&Me.includes(y),L=g===1&&a===1&&y===I,P=L&&m.value.startsWith(I),oe=r.includes(I)&&!r.startsWith(I);if(!R&&(y!==A&&y!==W)&&!L&&y.length===1||P||oe){i.value=t.value,await U(),i.setSelectionRange(a,g);return}const le=(r.split(A).at(1)||"").slice(0,e.value.maxFractionDigits),re=e.value.minFractionDigits?e.value.minFractionDigits:le.length,E=ee(r,{...e.value,minFractionDigits:re});if(Number.isNaN(E)||E.includes("NaN")){i.value=m.value;return}t.value=E,o.value=z(E,e.value),i.value=t.value,await c(E,i,a,g,y),m.value=t.value}async function c(n,a,g,h,d){const F=g===1&&h===1,y=n.split("").filter(P=>P===e.value.thousandsSeparator).length,l=m.value.split("").filter(P=>P===e.value.thousandsSeparator).length,r=e.value.prefix.length,M=y-l;if(await U(),n.length<=1)return;if(n.length<m.value.length&&d){const P=n[h-1];h-=P===e.value.decimalSeparator?0:1,g-=P===e.value.decimalSeparator?0:1}if(M<0&&a&&d){a.setSelectionRange(g,h);return}if(M<0&&a&&!d){a.setSelectionRange(g-1,h-1);return}if(n.length===h||!g||!h)return;let R=g+M,L=h+M;F&&r&&(R+=r,L+=r),a&&a.setSelectionRange(R,L)}return{rawValue:q(o),formattedValue:q(t),setValue:f}}const Ie=G({inheritAttrs:!1,__name:"UInputMoney",props:H({modelValue:{},valueType:{},label:{},labelAlign:{},symbol:{},placeholder:{},description:{},error:{},size:{},leftIcon:{},rightIcon:{},minFractionDigits:{},maxFractionDigits:{},decimalSeparator:{},thousandsSeparator:{},positiveOnly:{type:Boolean},prefix:{},readonly:{type:Boolean},disabled:{type:Boolean},id:{},config:{},dataTest:{}},{...Z(X,Ve),modelValue:"",label:"",placeholder:""}),emits:["update:modelValue","keyup","blur","input"],setup(p,{expose:s,emit:i}){const t=p,o=i,m=B(null),e=t.id||be(),{formattedValue:v,rawValue:f,setValue:x}=we(e,()=>({minFractionDigits:t.minFractionDigits,maxFractionDigits:t.maxFractionDigits,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator,positiveOnly:t.positiveOnly,prefix:t.prefix})),u=N({get:()=>t.modelValue,set:l=>o("update:modelValue",l)}),c=N(()=>{const l=t.symbol&&t.label?",":"",r=t.label?t.symbol:"";return`${t.label}${l} ${r}`.trim()}),n=N(()=>{var l;return((l=m.value)==null?void 0:l.inputRef)||null}),a=N(()=>{if(Object.is(u.value,-0))return"-0";const l=z(String(u.value),t),r=String(l).split(A).at(1)||"";return t.valueType==="number"&&!Number.isNaN(parseFloat(String(u.value)))?parseFloat(String(u.value)).toFixed(r.length):String(u.value)});ie(()=>t.modelValue,()=>{a.value!==String(f.value)&&x(a.value)}),se(()=>{u.value&&x(a.value)});function g(l){const r=Number.isNaN(parseFloat(f.value))?"":parseFloat(f.value);u.value=t.valueType==="number"?r:f.value||"",U(()=>o("keyup",l))}function h(){U(()=>o("blur"))}function d(l){U(()=>o("input",l))}s({input:n,rawValue:f,formattedValue:v});const{getDataTest:F,moneyInputAttrs:y}=K(X);return(l,r)=>(D(),$(Pe,V({id:b(e),ref_key:"moneyInputRef",ref:m,"model-value":b(v),size:l.size,label:c.value,"label-align":l.labelAlign,placeholder:l.placeholder,description:l.description,readonly:l.readonly,error:l.error,disabled:l.disabled,inputmode:"decimal","left-icon":l.leftIcon,"right-icon":l.rightIcon},b(y),{"data-test":b(F)("base-currency"),onKeyup:g,onBlur:h,onInput:d}),{left:S(()=>[O(l.$slots,"left",{iconName:l.leftIcon})]),right:S(()=>[O(l.$slots,"right",{iconName:l.leftIcon})]),_:3},16,["id","model-value","size","label","label-align","placeholder","description","readonly","error","disabled","left-icon","right-icon","data-test"]))}}),$e="UMoney",te={money:{base:"{UNumber}",variants:{planned:{true:"opacity-75 before:content-['('] after:content-[')']"}}},symbol:{base:"text-{color}-600 mx-1",compoundVariants:[{symbolDivided:!1,symbolAlign:"left",class:"mr-0"},{symbolDivided:!1,symbolAlign:"right",class:"ml-0"},{planned:!0,symbolAlign:"left",class:"ml-0"},{planned:!0,symbolAlign:"right",class:"mr-0"}]},defaults:{color:"grayscale",size:"md",sign:"auto",align:"left",symbolAlign:"right",minFractionDigits:0,maxFractionDigits:2,decimalSeparator:",",thousandsSeparator:" ",planned:!1,symbolDivided:!0}},Ae="UNumber",ae={wrapper:{base:"whitespace-nowrap flex items-center text-{color}-600",variants:{size:{xs:"text-2xs",sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg"},color:{white:"text-white",grayscale:"text-gray-900"},align:{left:"justify-start",right:"justify-end"}}},number:"",mathSign:"",integer:"",fraction:"",defaults:{color:"grayscale",size:"md",sign:"auto",align:"left",minFractionDigits:0,maxFractionDigits:2,decimalSeparator:",",thousandsSeparator:" "}},T={auto:"auto",positive:"positive",negative:"negative",unsigned:"unsigned"},j={PLUS:"+",MINUS:"â€“"},Ue="0",ke="00";function Oe(p,s=0,i=2,t=",",o=" "){const m={minimumFractionDigits:Number(s),maximumFractionDigits:Number(i)},e=p!=null?Number(p).toLocaleString("en-US",m):"0";let[v,f=""]=e.split(".");return v=v.replace(/,/g,o),!p&&p!==0&&(v=Ue,f=ke),f===""&&(t=""),s===0&&i===0?(t="",f=""):f.length<s&&(f=f.padEnd(s,"0")),{integer:v,fraction:f,decimalSeparator:t}}const Ce=["data-test"],Le=["textContent"],Ee=["textContent"],Re=["textContent"],Te=G({inheritAttrs:!1,__name:"UNumber",props:H({value:{},size:{},color:{},sign:{},minFractionDigits:{},maxFractionDigits:{},decimalSeparator:{},thousandsSeparator:{},align:{},config:{},dataTest:{}},{...Z(ae,Ae)}),setup(p){const s=p,i=N(()=>typeof s.value=="string"?parseFloat(s.value):s.value),t=N(()=>{let c="";return s.sign===T.unsigned&&(c=""),s.sign===T.positive&&(c=j.PLUS),s.sign===T.negative&&(c=j.MINUS),s.sign===T.auto&&i.value<0&&(c=j.MINUS),c}),o=N(()=>Oe(Math.abs(i.value||0),s.minFractionDigits,s.maxFractionDigits,s.decimalSeparator,s.thousandsSeparator)),{getDataTest:m,wrapperAttrs:e,numberAttrs:v,mathSignAttrs:f,integerAttrs:x,fractionAttrs:u}=K(ae);return(c,n)=>(D(),w("div",Se(De(b(e))),[O(c.$slots,"left"),J("div",V(b(v),{"data-test":b(m)()}),[c.value?(D(),w("span",V({key:0},b(f),{textContent:k(t.value)}),null,16,Le)):C("",!0),J("span",V(b(x),{textContent:k(o.value.integer)}),null,16,Ee),c.maxFractionDigits>0?(D(),w("span",V({key:1},b(u),{textContent:k(o.value.decimalSeparator+o.value.fraction)}),null,16,Re)):C("",!0)],16,Ce),O(c.$slots,"right")],16))}}),Be=["textContent"],ze=["textContent"],We=G({inheritAttrs:!1,__name:"UMoney",props:H({value:{},size:{},color:{},symbol:{},symbolAlign:{},symbolDivided:{type:Boolean},sign:{},minFractionDigits:{},maxFractionDigits:{},decimalSeparator:{},thousandsSeparator:{},align:{},planned:{type:Boolean},config:{},dataTest:{}},{...Z(te,$e)}),setup(p){const s=p,i=N(()=>({left:s.symbolAlign==="left",right:s.symbolAlign==="right"})),{getDataTest:t,moneyAttrs:o,symbolAttrs:m}=K(te);return(e,v)=>(D(),$(Te,V({value:e.value,size:e.size,color:e.color,sign:e.sign,align:e.align,"min-fraction-digits":e.minFractionDigits,"max-fraction-digits":e.maxFractionDigits,"decimal-separator":e.decimalSeparator,"thousands-separator":e.thousandsSeparator},b(o),{"data-test":b(t)()}),{left:S(()=>[O(e.$slots,"left"),i.value.left&&e.symbol?(D(),w("span",V({key:0},b(m),{textContent:k(e.symbol)}),null,16,Be)):C("",!0)]),right:S(()=>[i.value.right&&e.symbol?(D(),w("span",V({key:0},b(m),{textContent:k(e.symbol)}),null,16,ze)):C("",!0),O(e.$slots,"right")]),_:3},16,["value","size","color","sign","align","min-fraction-digits","max-fraction-digits","decimal-separator","thousands-separator","data-test"]))}}),ne="10%",Je={__name:"Page",setup(p){const{t:s}=_e(),i=[s("title.tld"),s("title.registrar"),s("title.yourCost"),s("title.retailPrice")],t={moneyInput:{leftSlot:"px-1.5",input:"px-0 pl-0 pr-1"}},o=pe(),m=N({get:()=>o.domains.pricing.tlds,set:u=>o.domains.pricing.tlds=u}),e=N(()=>o.domains.pricing.tlds.length===0&&o.isDomainsLoading);Fe(async()=>{o.setDomainsLoading(!0),await o.getDomainsPricing(),o.setDomainsLoading(!1)});function v(u){m.value.length&&(m.value=m.value.map(c=>{const a=parseFloat(c.sellingPrice.value);let g=0;u==="increment"&&(g=a+a*.1),u==="decrement"&&(g=a-a*.1);const h={...c,sellingPrice:{...c.sellingPrice,value:f(g)}};return c.sellingPrice.value?h:c}))}function f(u,c=2){const n=Math.pow(10,c);return Math.round(u*n)/n}async function x(u){if(m.value.length){const c=o.domains.pricing.tlds.map(({id:n,sellingPrice:a})=>({id:n,sellingPrice:parseFloat(a.value)}));await o.setDomainsPricing({tldsPricing:c})}u()}return(u,c)=>{const n=me,a=ce,g=We,h=Ie,d=xe,F=fe,y=ge,l=ue;return D(),$(de,{group:u.$t("group.domains"),"group-step":b(ve)*4,title:u.$t("title.setPricing"),description:u.$t("description.suggestedPrices"),step:2,"max-steps":2,"prevent-next":b(o).isDomainsLoading,prev:{name:"GettingStarted/Domains/Step2"},next:{name:"GettingStarted/Hosting"},skip:{name:"GettingStarted/Hosting"},onContinue:x},{default:S(()=>[_(l,{gap:"xs"},{default:S(()=>[_(a,{class:"grid grid-cols-4"},{default:S(()=>[(D(),w(Y,null,Q(i,r=>_(n,{key:r,class:"col-span-1 font-bold",html:r},null,8,["html"])),64))]),_:1}),(D(!0),w(Y,null,Q(m.value,r=>(D(),$(a,{key:r.id,class:"grid grid-cols-4 items-center"},{default:S(()=>[_(n,{class:"col-span-1 font-bold",html:r.tld},null,8,["html"]),_(n,{class:"col-span-1",html:r.registrarName||"-"},null,8,["html"]),_(g,{class:"col-span-1 justify-start",value:r.costPrice?r.costPrice.value:0,symbol:r.costPrice.prefix,"decimal-separator":".","thousands-separator":",","min-fraction-digits":2},null,8,["value","symbol"]),r.sellingPrice?(D(),$(h,{key:0,modelValue:r.sellingPrice.value,"onUpdate:modelValue":M=>r.sellingPrice.value=M,"positive-only":"","decimal-separator":".","thousands-separator":",",config:t,class:"col-span-1 w-[100px] pr-0"},{left:S(()=>[Ne(k(r.sellingPrice.prefix),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])):C("",!0)]),_:2},1024))),128)),e.value?(D(),$(a,{key:0,justify:"center",class:"!mt-10"},{default:S(()=>[_(d,{loading:e.value,color:"gray"},null,8,["loading"])]),_:1})):C("",!0),_(a,{class:"!mt-10 justify-center"},{default:S(()=>[_(y,{class:"border-brand/40 hover:border-brand/40 bg-brand-50 h-9 w-[170px] text-gray-900",variant:"secondary",label:u.$t("label.minusMarkdown",{markdown:ne}),onClick:c[0]||(c[0]=r=>v("decrement"))},{right:S(()=>[_(F,{name:"dash",color:"brand"})]),_:1},8,["label"]),_(y,{class:"border-brand/40 bg-brand-50 hover:border-brand/40 h-9 w-[170px] text-gray-900",variant:"secondary",label:u.$t("label.plusMarkup",{markup:ne}),onClick:c[1]||(c[1]=r=>v("increment"))},{right:S(()=>[_(F,{name:"plus",color:"brand"})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["group","group-step","title","description","prevent-next"])}}};export{Je as default};
